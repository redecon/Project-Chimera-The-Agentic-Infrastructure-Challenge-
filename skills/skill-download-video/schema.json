{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Skill: download-video - schema",
  "description": "Input and output contract for the download-video skill.",
  "type": "object",
  "definitions": {
    "input": {
      "type": "object",
      "required": ["url"],
      "properties": {
        "url": { "type": "string", "format": "uri", "description": "HTTP(s) URL of the video to download." },
        "headers": { "type": "object", "additionalProperties": { "type": "string" }, "description": "Optional headers to include in the download request (e.g., Authorization)." },
        "filename": { "type": "string", "description": "Preferred filename for saving the video (optional)." },
        "timeout_seconds": { "type": "integer", "minimum": 1, "default": 60, "description": "Request timeout in seconds." }
      },
      "additionalProperties": false
    },
    "output": {
      "type": "object",
      "required": ["success"],
      "properties": {
        "success": { "type": "boolean" },
        "file_path": { "type": "string", "description": "Absolute or repo-relative path to the downloaded file when success=true." },
        "content_type": { "type": "string", "description": "MIME type detected for the downloaded file." },
        "content_length": { "type": "integer", "description": "Size in bytes if known." },
        "duration_seconds": { "type": ["number", "null"], "description": "Optional media duration if determinable." },
        "error": { "type": ["string", "null"], "description": "Error message when success=false." },
        "metadata": { "type": "object", "description": "Optional provider metadata (etag, last-modified).", "additionalProperties": true }
      },
      "additionalProperties": false
    }
  },
  "examples": {
    "input": {
      "url": "https://cdn.example.com/videos/episode123.mp4",
      "filename": "episode123.mp4"
    },
    "output": {
      "success": true,
      "file_path": "./data/videos/episode123.mp4",
      "content_type": "video/mp4",
      "content_length": 12345678,
      "duration_seconds": 312.4
    }
  }
}
